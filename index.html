<!DOCTYPE html>
<html lang="nl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <link rel="manifest" href="./manifest.json">
    <script src="assets/js/jquery.3.3.1.min.js"></script>

    <script src="assets/js/constants.js"></script>
    <link rel="stylesheet" href="assets/css/bootstrap.min.css"
          integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">

    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.51.0/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.51.0/mapbox-gl.css' rel='stylesheet'/>
    <link href='assets/css/size_toggles.css' rel='stylesheet'/>
    <link href='assets/css/general_style.css' rel='stylesheet'/>
    <link href='assets/css/safari-fix.css' rel='stylesheet'/>

    <!-- Branding specific stuff below -->
    <title>Anyways | Cycling Route Planner</title>

    <meta name="msapplication-TileColor" content="#ffc000">
    <meta name="theme-color" content="#ffc000">
    <link rel="apple-touch-icon" sizes="180x180" href="branding/bike4brussels/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="96x96" href="branding/bike4brussels/favicon-96.png">
    <link rel="icon" type="image/png" sizes="32x32" href="branding/bike4brussels/favicon-32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="branding/bike4brussels/favicon-16.png">
    <link href='branding/bike4brussels/theme.css' rel='stylesheet'/>
    <script src="branding/bike4brussels/brandedScript.js"></script>

    <!-- End of branding specific stuff -->

</head>

<body class="nopadding">

<!-- The main content pane -->
<div class="container-fluid nopadding" style="height: 100%">
    <div class="row nopadding" style="height: 100%">

        <!-- We start with no sidebar to give the map all the place it needs. It gets confused when it has to get bigger -->
        <div class="col-lg-12 col-xs-12 col-sm-12 smooth-transition nopadding" id="content-pane"
             style="display:flex; flex-direction: column; align-items: stretch; padding: 0;">

            <!-- The bar on top -->
            <div class="container-fluid top-bar">

                <div class="row row-eq-height">

                    <div class="col-1 col-xs-10 logo logo-image">
                    </div>
                    <div class="col-9 xs-or-smaller">
                    </div>
                    <div class="col-1 xs-or-smaller" style="height: 100%">
                        <button class="btn image-button" id="sidebarHamburger" onclick="toggleSidebar()"></button>
                    </div>


                    <!-- Input fields for all -->
                    <div class="col-xs-5 col-sm-9 col-md-9">

                        <div class="container-fluid">

                            <div class="row" style="align-items: center">

                                <!-- FROM -->
                                <div class="col-10 col-md-5 justify-content-start currentLocation right-addon location-input-group margin-mobile">
                                    <div class="location-circle-container">
                                        <img class="svg location-circle" src="assets/img/circle.svg"/>
                                        <div class="location-circle-centered">A</div>
                                    </div>
                                    <input class="form-control typeahead geocoder-input" type="text" id="fromInput"
                                           placeholder="Van" oninput="fromFieldInputDetected()">
                                    <img id="useLocationInputFieldButton" src="./assets/img/currentLocation.svg"
                                         onclick="useCurrentLocation()"/>
                                    <img id="clearInputFieldFromButton" class="svg"
                                         src="./assets/css/icons/ic_clear_black_24px.svg"
                                         onclick="clearInputFieldFrom()"/>
                                </div>

                                <!-- SWAP -->
                                <div class="col-1 col-md-1 justify-content-center">
                                    <button class="btn btn-warning image-button" id="swap-origin-destination-button"
                                            onclick="swapOriginDestination()"></button>
                                </div>

                                <!-- TO -->
                                <div class="col-10 col-md-5 justify-content-center currentLocation right-addon location-input-group margin-mobile">
                                    <div class="location-circle-container">
                                        <img class="svg location-circle" src="assets/img/circle.svg"/>
                                        <div class="location-circle-centered">B</div>
                                    </div>
                                    <input class="form-control typeahead geocoder-input" type="text" id="toInput"
                                           placeholder="Naar" oninput="toFieldInputDetected()">
                                    <img id="clearInputFieldToButton" class="svg"
                                         src="./assets/css/icons/ic_clear_black_24px.svg"
                                         onclick="clearInputFieldTo()"/>

                                </div>

                            </div>
                        </div>
                    </div>

                    <!-- Show/hide sidebar button on the right -->
                    <div class="col-1 sm-or-bigger" style="height: 100%">
                        <button class="sidebar-toggle-button btn image-button padding"
                                onclick="toggleSidebar()"></button>
                    </div>

                </div>

            </div>


            <!-- The big map -->
            <div class="map-container container-fluid nopadding">
                <div class="bottom-left-anchor nopadding">
                    <!-- Unused ATM -->
                </div>
                <div id='map' style="height:100%; width: 100%"></div>
                <script>
                    if (!initialMap) {
                        initialMap = { };
                    }
                    if (!initialMap.center) {
                        initialMap.center = [4.868640, 50.813588];
                    }
                    if (!initialMap.zoom) {
                        initialMap.zoom = 8.64;
                    }
                    if (!initialMap.style) {
                        initialMap.style = 'https://api.maptiler.com/maps/3327a63f-c15d-462a-9f23-ebf73a14254a/style.json?key=jwL83LCYXcsbjHQxJcVH';
                    }

                    mapboxgl.accessToken = mapboxAccessCode;
                    var map = new mapboxgl.Map({
                        container: 'map',
                        style: initialMap.style,
                        center: initialMap.center, 
                        zoom: initialMap.zoom, // starting zoom
                        preserveDrawingBuffer: true
                    });

                    map.addControl(new mapboxgl.NavigationControl());
                </script>
            </div>


            <!-- The three extra profile buttons, on the bottom of small screens. md-and-smaller only -->
            <div class="md-or-smaller container-fluid nopadding mobile-buttons">
                <div class="row pointer profile-selection-button-non-active nopadding"
                     style="width:100%;">

                    <!-- Beware: class names 'profile1-button', 'fastest-button' ... are used in the script and not in the css. Don't remove 'em-->
                    <div class="col-4 btn-lg text-center profile1-button"
                         onclick="sidebarDisplayProfileHtmlId('profile1')">
                    <span>
                         <img class="svg" id="profile1-small-logo-bottom" alt="profile1-small-logo-bottom"/>
                   </span>
                        <br>
                        <div id="profile1-button-text-bottom">profile1-button-text-bottom</div>
                    </div>

                    <div class="col-4 btn-lg text-center profile2-button"
                         onclick="sidebarDisplayProfileHtmlId('profile2')">
                    <span>
                         <img class="svg" id="profile2-small-logo-bottom" alt="profile2-small-logo-bottom"/>
                    </span>
                        <br>
                        <div id="profile2-button-text-bottom">profile2-button-text-bottom</div>
                    </div>
                    <div class="col-4 btn-lg text-center profile3-button"
                         onclick="sidebarDisplayProfileHtmlId('profile3')">
                    <span>
                         <img class="svg" id="profile3-small-logo-bottom" alt="profile3-small-logo-bottom"/>
                   </span>
                        <br>
                        <div id="profile3-button-text-bottom">profile3-button-text-bottom</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Sidebar on the right-->
<div id="sidebar-right-container"
     class="col-lg-3 col-sm-12 hidden-sidebar smooth-transition">

    <!-- All the sidebar content -->
    <div id='sidebar-right-content'>

        <!-- Profile selecting button + close button -->
        <div style="display:flex; align-items: stretch">


            <!-- Buttons selecting profile -->
            <div class="container-fluid" style="flex-grow: 2">
                <div class="row profile-selection-button-non-active pointer">


                    <!-- Beware: class names 'profile1-button', 'fastest-button' ... are used in the script and not in the css. Don't remove 'em-->
                    <div class="col-4 btn-lg text-center profile1-button"
                         onclick="sidebarDisplayProfileHtmlId('profile1')">
                    <span>
                        <img class="svg" id="profile1-small-logo" alt="profile1-small-logo"/>
                    </span>
                        <br>
                        <div id="profile1-button-text">profile1-button-text</div>
                    </div>

                    <div class="col-4 btn-lg text-center profile2-button"
                         onclick="sidebarDisplayProfileHtmlId('profile2')">
                    <span>
                        <img class="svg" id="profile2-small-logo" alt="profile2-small-logo"/>
                    </span>
                        <br>
                        <div id="profile2-button-text">profile1-button-text</div>
                    </div>


                    <div class="col-4 btn-lg text-center profile3-button"
                         onclick="sidebarDisplayProfileHtmlId('profile3')">
                    <span>
                        <img class="svg" id="profile3-small-logo" alt="profile3-small-logo"/>
                    </span>
                        <br>
                        <div id="profile3-button-text">profile1-button-text</div>
                    </div>


                </div>
            </div>

            <!-- Close button. Only on small screens -->
            <div class="md-or-smaller close-button-small-screen btn-lg image-button" id="sidebarClose"
                onclick="closeSidebar()"><img class="svg" alt="close options" src="assets/css/icons/ic_clear_black_24px.svg"/>
            </div>
        </div>


        <!-- The actual content of the panes; three very similar pieces-->


        <div id="profile1-summary" class="profile-summary sidebar-colors height-zero">
            <div class="profile-summary-explanation">
                <img class="svg large-summary-icon" id="profile1-icon" alt="Profile 1 icon"/>
                <h3 class="sub-title" id="profile1-subtitle">Profile1-subtitle</h3>
            </div>
            <span id="profile1-summary-extra"></span>
        </div>


        <div id="profile1-instruction" class="route-instructions sidebar-colors height-zero">
            <div class="profile-explanation">
                <div class="profile-explanation-overview">
                    <div class="instructions-resume">
                        <div class="distance">0 km</div>
                        <div>
                            <div class="time">0 min</div>
                            <div class="electricity-box electric-bike-speedup" style="display:flex">
                                <img class="svg electricity" src="assets/img/electricity.svg"><span
                                    class="time-electric">0 min</span>
                            </div>
                        </div>
                    </div>
                    <p id="profile1-paragraph">Profile1-paragraph</p>
                </div>
            </div>
        </div>


        <div id="profile2-summary" class="profile-summary sidebar-colors height-zero">
            <div class="profile-summary-explanation">
                <img class="svg large-summary-icon" id="profile2-icon" alt="Profile 1 icon"/>
                <h3 class="sub-title" id="profile2-subtitle">profile2-subtitle</h3>
            </div>
            <span id="profile2-summary-extra"></span>
        </div>


        <div id="profile2-instruction" class="route-instructions sidebar-colors height-zero">
            <div class="profile-explanation">
                <div class="profile-explanation-overview">
                    <div class="instructions-resume">
                        <div class="distance">0 km</div>
                        <div>
                            <div class="time">0 min</div>
                            <div class="electricity-box electric-bike-speedup" style="display:flex">
                                <img class="svg electricity" src="assets/img/electricity.svg"><span
                                    class="time-electric">0 min</span>
                            </div>
                        </div>
                    </div>
                    <p id="profile2-paragraph">profile2-paragraph</p>
                </div>
            </div>
        </div>


        <div id="profile3-summary" class="profile-summary sidebar-colors height-zero">
            <div class="profile-summary-explanation">
                <img class="svg large-summary-icon" id="profile3-icon" alt="Profile 1 icon"/>
                <h3 class="sub-title" id="profile3-subtitle">profile3-subtitle</h3>
            </div>
            <span id="profile3-summary-extra"></span>
        </div>


        <div id="profile3-instruction" class="route-instructions sidebar-colors height-zero">
            <div class="profile-explanation">
                <div class="profile-explanation-overview">
                    <div class="instructions-resume">
                        <div class="distance">0 km</div>
                        <div>
                            <div class="time">0 min</div>
                            <div class="electricity-box electric-bike-speedup" style="display:flex">
                                <img class="svg electricity" src="assets/img/electricity.svg"><span
                                    class="time-electric">0 min</span>
                            </div>
                        </div>
                    </div>
                    <p id="profile3-paragraph">profile3-paragraph</p>
                </div>
            </div>

        </div>

    </div>
</div>

<!-- Add to home page functionality -->
<div class="bottom-center-floating-buttons">
    <!-- This small piece provides the 'add to home page' functionality-->
    <!-- It is only visible on mobile -->
    <div style="position: relative; left: -50%;">
        <button id="btnAddToHomescreen" type="button" class="btn btn-warning"><img
                src="./assets/img/add-to-home.svg" width="30px"/></button>
    </div>
</div>

<!-- The language selection buttons - hidden by default. Buttons added by JS -->
<div class="bottom-left-floating-buttons d-none d-lg-block">
    <div class="btn-group btn-group-toggle translation-buttons hidden" data-toggle="buttons" id="language-buttons">

    </div>
</div>


<!-- All javascripts! -->

<script src="assets/js/popper.1.14.3.min.js"
        integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
        crossorigin="anonymous"></script>

<script src="assets/js/bootstrap.4.1.1.min.js"
        integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T"
        crossorigin="anonymous"></script>

<script src="assets/js/browserSpecifics.js"></script>
<script src="assets/js/Chart.bundle.2.7.2.min.js"></script>
<script src="assets/js/bootstrap3-typeahead.min.js"></script>

<script src="assets/js/state.js"></script>
<script src="assets/js/routeplanning.js"></script>
<script src="assets/js/layercontrol.js"></script>
<script src="assets/js/sidebar.js"></script>
<script src="assets/js/url.js"></script>
<script src="assets/js/markers.js"></script>
<script src="assets/js/uihelper.js"></script>
<script src="assets/js/language.js"></script>

<script>
    if (detectIE()) {
        alert("Het programma dat je gebruikt om op het internet te gaan is te oud. Gelieve een andere browser te installeren. We sturen je door...");
        window.location.replace("https://www.mozilla.org/en-US/firefox/new/");
    }

    // Mobile browsers: add app-like button
    addToHomeScreen();


    if (window.innerWidth <= 767) {
        closeSidebar();
    } else {
        openSidebar();
    }
    loadBrandedTexts();
    applyBrand();
    inlineAllSvgs();
    showOrHideClearButtons();
    initLanguageControls();
    applyNavigatorLanguage();
</script>


</body>

</html>
